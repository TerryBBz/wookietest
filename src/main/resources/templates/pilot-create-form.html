<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout (~{::title}, ~{::content})}">

<head>
    <title th:text="${pilot.idPilot} != null ? 'Modifier un pilote' : 'Ajouter un pilote'">Ajouter un pilote</title>
</head>

<body>

<th:block th:fragment="content">
    <h1 th:text="${pilot.idPilot} != null ? 'Modifier un pilote' : 'Ajouter un pilote'"></h1>

    <form
        th:action="${pilot.idPilot} != null ? @{/pilot/update} : @{/pilot/save}"
        th:object="${pilot}"
        method="post"
    >
        <input
            type="hidden"
            th:field="*{idPilot}"
        />

        <div class="form-group">
            <label for="firstName">Prénom:</label>
            <input
                type="text"
                id="firstName"
                th:field="*{firstName}"
                required
            />
        </div>

        <div class="form-group">
            <label for="lastName">Nom:</label>
            <input
                type="text"
                id="lastName"
                th:field="*{lastName}"
                required
            />
        </div>

        <div class="form-group">
            <label for="subscriptionAge">Âge d'inscription:</label>
            <input
                type="number"
                id="subscriptionAge"
                th:field="*{subscriptionAge}"
                min="1"
                max="200"
            />
        </div>


        <div class="form-group">
            <label for="totalFlightTime">Temps de vol total (heures):</label>
            <input
                type="number"
                id="totalFlightTime"
                th:field="*{totalFlightTime}"
                min="0"
            />
        </div>

        <div class="form-group">
            <label for="raceId">Race:</label>
            <select id="raceId" name="raceId" th:value="${pilot.race != null ? pilot.race.idRaceType : ''}">
                <option value="">-- Choisir une race --</option>
                <option th:each="raceType : ${raceTypes}"
                        th:value="${raceType.idRaceType}"
                        th:text="${raceType.name}"
                        th:selected="${pilot.race != null and pilot.race.idRaceType == raceType.idRaceType}">
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="pilotStatus">Statut:</label>
            <select id="pilotStatus" th:field="*{pilotStatus}">
                <option value="">-- Choisir un statut --</option>
                <option th:each="status : ${T(com.ldnr.wookieAirlines.models.enums.PilotStatusEnum).values()}"
                        th:value="${status.name()}"
                        th:text="${status.status}">
                </option>
            </select>
        </div>

        <div class="form-actions">
            <button type="submit" th:text="${pilot.idPilot} != null ? 'Modifier' : 'Enregistrer'">Enregistrer</button>
            <a th:href="@{/pilot}">Annuler</a>
        </div>
    </form>

</th:block>

</body>

</html>